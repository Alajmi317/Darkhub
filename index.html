<!doctype html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DarkHub</title>

    <!-- Arabic font (bold) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles.css" />

    <!-- jsPDF (for Image -> PDF) -->
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
</head>

<body>
    <header class="topbar">
        <div class="brand">
            <div class="logo">DH</div>
            <div class="brandText">
                <div class="title">DarkHub</div>
                <div class="sub">مركز أدوات داكنة — سريع وبسيط</div>
            </div>
        </div>

        <div class="actions">
            <button id="btnTheme" class="btn btn-ghost" type="button" aria-label="تبديل الثيم">
                تبديل الثيم
            </button>
        </div>
    </header>

    <div class="top-download">
  <a
    href="https://your-download-link-here"
    class="download-btn"
    download
  >
    Download DarkHub v1.0.0
  </a>
</div>

    <main class="layout">
        <aside class="sidebar">
            <div class="panel">
                <div class="panelTitle">الأدوات</div>

                <button class="toolBtn active" data-tool="tool-image-pdf" type="button">
                    صورة → PDF
                </button>

                <button class="toolBtn" data-tool="tool-a4" type="button">
                    تحويل إلى A4
                </button>

                <button class="toolBtn" data-tool="tool-blue" type="button">
                    فلتر أزرق
                </button>

                <div class="hint">
                    كل شيء يتم محلياً داخل جهازك.
                </div>
            </div>

            <div class="panel">
                <div class="panelTitle">ملف الإدخال</div>

                <label class="fileBox">
                    <input id="fileInput" type="file" accept="image/*" />
                    <span>اختر صورة (PNG / JPG)</span>
                </label>

                <div class="mini">
                    <div class="miniLabel">الحالة</div>
                    <div id="status" class="status">لم يتم اختيار ملف بعد</div>
                </div>
            </div>
        </aside>

        <section class="content">
            <!-- TOOL: Image -> PDF -->
            <div id="tool-image-pdf" class="toolCard show">
                <div class="toolHeader">
                    <h2>تحويل صورة إلى PDF</h2>
                    <p>يركب الصورة داخل صفحة PDF واحدة (A4) مع الحفاظ على نسبة الأبعاد.</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <div class="cardTitle">المعاينة</div>
                        <div class="preview">
                            <img id="previewImg" alt="معاينة الصورة" />
                            <div id="previewEmpty" class="previewEmpty">اختر صورة لعرض المعاينة</div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="cardTitle">إعدادات</div>

                        <div class="field">
                            <label>اتجاه الصفحة</label>
                            <select id="pdfOrientation">
                                <option value="p" selected>عمودي (Portrait)</option>
                                <option value="l">أفقي (Landscape)</option>
                            </select>
                        </div>

                        <div class="field">
                            <label>هامش (مم)</label>
                            <input id="pdfMargin" type="number" min="0" max="30" value="6" />
                        </div>

                        <button id="btnExportPDF" class="btn btn-primary" type="button" disabled>
                            تنزيل PDF
                        </button>

                        <div class="note">
                            ملاحظة: يعتمد تنزيل PDF على مكتبة jsPDF.
                        </div>
                    </div>
                </div>
            </div>

            <!-- TOOL: A4 PNG -->
            <div id="tool-a4" class="toolCard">
                <div class="toolHeader">
                    <h2>تحويل الصورة إلى مقاس A4</h2>
                    <p>يصدر ملف PNG بمقاس A4 (بدقة تختارها) مع خيار تعبئة أو احتواء.</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <div class="cardTitle">A4 Generator</div>

                        <div class="field">
                            <label>الدقة (DPI)</label>
                            <select id="a4Dpi">
                                <option value="150">150 (خفيف)</option>
                                <option value="200">200</option>
                                <option value="300" selected>300 (ممتاز للطباعة)</option>
                            </select>
                        </div>

                        <div class="field">
                            <label>الطريقة</label>
                            <select id="a4Mode">
                                <option value="contain" selected>احتواء (بدون قص)</option>
                                <option value="cover">تعبئة (قد يقص الأطراف)</option>
                            </select>
                        </div>

                        <div class="field">
                            <label>خلفية A4</label>
                            <select id="a4Bg">
                                <option value="#0b1220" selected>داكن</option>
                                <option value="#ffffff">أبيض</option>
                            </select>
                        </div>

                        <button id="btnExportA4" class="btn btn-primary" type="button" disabled>
                            تنزيل PNG (A4)
                        </button>

                        <div class="note">
                            يتم التصدير عبر Canvas محلياً.
                        </div>
                    </div>

                    <div class="card">
                        <div class="cardTitle">المعاينة (نتيجة A4)</div>
                        <div class="preview">
                            <canvas id="a4Canvas"></canvas>
                            <div id="a4Empty" class="previewEmpty">اختر صورة ثم اضغط إنشاء A4</div>
                        </div>

                        <button id="btnRenderA4" class="btn btn-ghost" type="button" disabled>
                            إنشاء/تحديث المعاينة
                        </button>
                    </div>
                </div>
            </div>

            <!-- TOOL: Blue filter -->
            <div id="tool-blue" class="toolCard">
                <div class="toolHeader">
                    <h2>فلتر أزرق (Blue Tint)</h2>
                    <p>يضيف صبغة زرقاء على الصورة مع تحكم بالقوة، ثم تصدير PNG.</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <div class="cardTitle">التحكم</div>

                        <div class="field">
                            <label>قوة الفلتر</label>
                            <input id="blueStrength" type="range" min="0" max="100" value="35" />
                            <div class="rangeRow">
                                <span>0</span>
                                <span id="blueStrengthVal">35</span>
                                <span>100</span>
                            </div>
                        </div>

                        <div class="field">
                            <label>الطريقة</label>
                            <select id="blueMode">
                                <option value="tint" selected>صبغة (Tint)</option>
                                <option value="shift">تحويل قنوات (Shift)</option>
                            </select>
                        </div>

                        <button id="btnApplyBlue" class="btn btn-ghost" type="button" disabled>
                            تطبيق على المعاينة
                        </button>

                        <button id="btnExportBlue" class="btn btn-primary" type="button" disabled>
                            تنزيل PNG (بعد الفلتر)
                        </button>
                    </div>

                    <div class="card">
                        <div class="cardTitle">المعاينة</div>
                        <div class="preview">
                            <canvas id="blueCanvas"></canvas>
                            <div id="blueEmpty" class="previewEmpty">اختر صورة ثم طبّق الفلتر</div>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="footer">
                <span>DarkHub — نسخة أولية</span>
                <span class="dot">•</span>
                <span>جاهز للتطوير (إضافة أدوات جديدة بسهولة)</span>
            </footer>
        </section>
    </main>

    <script src="app.js"></script>
</body>


</html>
